S = "unit" "id" A ";" Block "eof".
Block = Decl "beg" LstStmt "end".
Decl = PartType PartVar PartSub.
PartType = "type" LstType | .
LstType = DeclType ";" | LstType DeclType ";".
DeclType = "id" B "is" Type {A3}.
PartVar = "var" LstVar.
LstVar = DeclVar ";" | LstVar DeclVar ";".
DeclVar = "id" B LstId {A4}.
LstId = "," "id" B LstId {A5} | ":" Type.
PartSub = LstSub | .
LstSub = DeclSub | LstSub DeclSub.
DeclSub = DeclProc | DeclFunc.
DeclProc = HeadProc ";" Block ";".
HeadProc = "proc" "id" "(" LstFormPar ")".
LstFormPar = FormPar | LstFormPar ";" FormPar | .
FormPar = GrpPar | "var" GrpPar.
GrpPar = "id" LstIdPar.
LstIdPar = "," "id" LstIdPar | ":" "id".
DeclFunc = HeadFunc ";" Block ";".
HeadFunc = "func" "id" "(" LstFormPar ")" ":" "id".
Type = Simple | ArrType | RecType | LinkType.
Simple = "id" {A6} | "num" K "rng" "num" {A20}.
ArrType = "arr" "[" LstInd {A21}.
LstInd = Simple L "]" "of" Type {A43} | Simple L "," LstInd {A44}.
RecType = R "rec" LstFld "end" {A49}.
R = {A50}.
LstFld = DeclVar ";" | LstFld DeclVar ";".
LinkType = "^" "id".
LstStmt = Stmt ";" | LstStmt M Stmt ";" {A7}.
Stmt = AssStmt | IfStmt | Pred | Post | Param | CaseStmt | CallProc.
AssStmt = Vrbl "ass" Expr {A8}.
Vrbl = "id" {A9} | IndVar | Vrbl U "." "id" {A52} | Vrbl "^".
IndVar = LstExpr "]" {A45}.
LstExpr = "id" T "[" SmplExpr {A47} | LstExpr "," SmplExpr {A48}.
IfStmt = "if" Expr C "then" M LstStmt N "else" M LstStmt "fi" {A11} | "if" Expr C "then" M LstStmt "fi" {A12}.
Pred = "while" M Expr C "do" M LstStmt "od" {A13}.
Post = "do" M LstStmt "until" M Expr {A14}.
Param = "for" "id" E "ass" Expr F "to" Expr G "by" Expr H "do" P LstStmt "end" {A34}.
CaseStmt = "case" Expr I "of" Q LstCase V Other "end" {A54}.
LstCase = "num" J ":" "beg" M LstStmt "end" {A39} | LstCase "num" J ":" "beg" M LstStmt "end" {A40}.
Other = "else" "beg" LstStmt "end" | {A55}.
CallProc = "id" "(" LstFact ")".
LstFact = LstExpr | .
Expr = SmplExpr "rel" D SmplExpr {A16} | SmplExpr.
SmplExpr = Term | "+" D Term {A53} | SmplExpr "+" D Term {A18} | SmplExpr "or" M Term {A19}.
Term = Factor | Term "*" D Factor {A18} | Term "and" M Factor {A22}.
Factor = Const | Vrbl {A23} | "(" Expr ")" | "not" Factor {A24} | CallFunc.
CallFunc = "id" "(" LstFact ")".
Const = "num" {A25} | "true" {A26} | "false" {A27}.
M = {A28}.
N = {A29}.
P = {A35}.
Q = {A41}.
A = {A1}.
B = {A2}.
C = {A10}.
D = {A15}.
E = {A30}.
F = {A31}.
G = {A32}.
H = {A33}.
I = {A36}.
J = {A38}.
K = {A17}.
L = {A42}.
T = {A46}.
U = {A51}.
V = {A37}.!


